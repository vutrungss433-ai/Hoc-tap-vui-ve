<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Há»c Táº­p Vui Váº»</title>
    <style>
        body { font-family: 'Arial', sans-serif; background: linear-gradient(to bottom, #f0f8ff, #e6f7ff); color: #333; text-align: center; padding: 20px; margin: 0; }
        h1 { color: #228b22; font-size: 2.5em; margin-bottom: 10px; }
        p { font-size: 1.2em; margin-bottom: 20px; }
        .menu { display: flex; justify-content: center; flex-wrap: wrap; gap: 10px; margin: 20px 0; }
        button { background: linear-gradient(45deg, #ffd700, #ffed4e); border: none; padding: 12px 24px; font-size: 16px; cursor: pointer; border-radius: 10px; transition: transform 0.2s; box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
        button:hover { transform: scale(1.05); }
        .section { display: none; margin-top: 30px; padding: 20px; background: rgba(255,255,255,0.9); border-radius: 15px; box-shadow: 0 0 15px rgba(0,0,0,0.1); max-width: 800px; margin-left: auto; margin-right: auto; }
        #spin-wheel { font-size: 24px; margin: 20px; color: #ff4500; font-weight: bold; }
        #quiz-display { font-size: 20px; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); margin: 20px 0; }
        #score-table { margin-top: 20px; }
        table { width: 100%; border-collapse: collapse; background: #fff; border-radius: 10px; overflow: hidden; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: center; }
        th { background: #228b22; color: white; }
        input { padding: 10px; font-size: 16px; border-radius: 5px; border: 1px solid #ccc; width: 300px; max-width: 90%; }
        #timer { font-size: 18px; color: #ff0000; }
        #leaderboard { margin-top: 20px; }
        canvas { display: none; position: fixed; top: 0; left: 0; pointer-events: none; } /* Cho confetti */
        @media (max-width: 600px) { .menu { flex-direction: column; } button { width: 100%; } }
    </style>
</head>
<body>
    <h1>ğŸ“ Há»c Táº­p Vui Váº»! ğŸ“</h1>
    <p>Trang web tÆ°Æ¡ng tÃ¡c hiá»‡n Ä‘áº¡i giÃºp há»c táº­p trá»Ÿ nÃªn háº¥p dáº«n vá»›i lÃ½ thuyáº¿t, bÃ i táº­p, vÃ  trÃ² chÆ¡i gamified. Chá»n tÃ­nh nÄƒng Ä‘á»ƒ báº¯t Ä‘áº§u!</p>
    
    <div class="menu">
        <button onclick="showSection('spin')">VÃ²ng Quay Gá»i TÃªn</button>
        <button onclick="showSection('quiz')">Äáº¥u TrÆ°á»ng Tráº¯c Nghiá»‡m</button>
        <button onclick="showSection('score')">Há»‡ Thá»‘ng Ghi Äiá»ƒm</button>
        <button onclick="showSection('game')">TrÃ² ChÆ¡i Äá»‘ Vui</button>
        <button onclick="showSection('leaderboard')">Leaderboard</button>
        <button onclick="showSection('weather')">Thá»i Tiáº¿t Há»c Táº­p</button>
    </div>
    
    <!-- VÃ²ng Quay Gá»i TÃªn -->
    <div id="spin" class="section">
        <h2>ğŸ¡ VÃ²ng Quay Gá»i TÃªn CÃ´ng Báº±ng</h2>
        <p>Nháº­p danh sÃ¡ch há»c sinh (cÃ¡ch nhau báº±ng dáº¥u pháº©y). MÃ¡y tÃ­nh sáº½ quay ngáº«u nhiÃªn (dÃ¹ng xÃ¡c suáº¥t ToÃ¡n há»c) Ä‘á»ƒ chá»n, táº¡o há»“i há»™p mÃ  khÃ´ng cáº§n Ä‘iá»‡n thoáº¡i!</p>
        <input type="text" id="student-list" placeholder="VÃ­ dá»¥: An, Binh, Linh" style="width: 300px; padding: 10px;">
        <br><br>
        <button onclick="spinWheel()">Quay!</button>
        <div id="spin-wheel">Káº¿t quáº£ sáº½ xuáº¥t hiá»‡n á»Ÿ Ä‘Ã¢y.</div>
    </div>
    
    <!-- Äáº¥u TrÆ°á»ng Tráº¯c Nghiá»‡m -->
    <div id="quiz" class="section">
        <h2>âš”ï¸ Äáº¥u TrÆ°á»ng Tráº¯c Nghiá»‡m</h2>
        <p>Hiá»ƒn thá»‹ cÃ¢u há»i lá»›n trÃªn mÃ n hÃ¬nh. Há»c sinh tráº£ lá»i báº±ng cÃ¡ch giÆ¡ tay hoáº·c dÃ¹ng báº£ng con. Pháº§n má»m xá»­ lÃ½ hiá»‡u á»©ng hÃ¬nh áº£nh vÃ  Ã¢m thanh sá»‘ng Ä‘á»™ng!</p>
        <div id="quiz-display">CÃ¢u há»i máº«u: 2 + 2 = ? (ÄÃ¡p Ã¡n: 4)</div>
        <br>
        <button onclick="nextQuestion()">CÃ¢u Há»i Tiáº¿p Theo</button>
        <audio id="sound-effect" src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" preload="auto"></audio>
    </div>
    
    <!-- Há»‡ Thá»‘ng Ghi Äiá»ƒm -->
    <div id="score" class="section">
        <h2>ğŸ† Há»‡ Thá»‘ng Ghi Äiá»ƒm Trá»±c Tiáº¿p</h2>
        <p>GiÃ¡o viÃªn cá»™ng/trá»« Ä‘iá»ƒm cho cÃ¡c tá»•/Ä‘á»™i ngay trÃªn giao diá»‡n (thuáº­t toÃ¡n ToÃ¡n há»c Ä‘Æ¡n giáº£n), táº¡o thi Ä‘ua lÃ nh máº¡nh!</p>
        <table id="score-table">
            <tr><th>Tá»•/Äá»™i</th><th>Äiá»ƒm</th><th>Thao TÃ¡c</th></tr>
            <tr><td>Tá»• 1</td><td id="score1">0</td><td><button onclick="updateScore(1, 1)">+1</button> <button onclick="updateScore(1, -1)">-1</button></td></tr>
            <tr><td>Tá»• 2</td><td id="score2">0</td><td><button onclick="updateScore(2, 1)">+1</button> <button onclick="updateScore(2, -1)">-1</button></td></tr>
            <tr><td>Tá»• 3</td><td id="score3">0</td><td><button onclick="updateScore(3, 1)">+1</button> <button onclick="updateScore(3, -1)">-1</button></td></tr>
        </table>
    </div>
    
    <!-- TrÃ² ChÆ¡i Äá»‘ Vui (Gamified Quiz) -->
    <div id="game" class="section">
        <h2>ğŸ® TrÃ² ChÆ¡i Äá»‘ Vui</h2>
        <p>Tráº£ lá»i cÃ¢u há»i trong thá»i gian giá»›i háº¡n! ÄÃºng sáº½ cÃ³ Ä‘iá»ƒm thÆ°á»Ÿng ngáº«u nhiÃªn (xÃ¡c suáº¥t ToÃ¡n há»c) vÃ  hiá»‡u á»©ng confetti. Ham há»c hÆ¡n vá»›i gamification!</p>
        <div id="game-display">CÃ¢u há»i sáº½ xuáº¥t hiá»‡n á»Ÿ Ä‘Ã¢y.</div>
        <div id="timer">Thá»i gian: 10 giÃ¢y</div>
        <br>
        <input type="text" id="answer-input" placeholder="Nháº­p Ä‘Ã¡p Ã¡n" style="width: 200px;">
        <button onclick="submitAnswer()">Tráº£ Lá»i</button>
        <div id="game-score">Äiá»ƒm cá»§a báº¡n: 0</div>
        <canvas id="confetti-canvas"></canvas>
    </div>
    
    <!-- Leaderboard -->
    <div id="leaderboard" class="section">
        <h2>ğŸ… Leaderboard</h2>
        <p>Báº£ng xáº¿p háº¡ng Ä‘iá»ƒm cao nháº¥t, khuyáº¿n khÃ­ch thi Ä‘ua lÃ nh máº¡nh!</p>
        <table id="leaderboard-table">
            <tr><th>Há»c Sinh/Tá»•</th><th>Äiá»ƒm Cao Nháº¥t</th></tr>
            <tr><td>An</td><td id="leader1">0</td></tr>
            <tr><td>Binh</td><td id="leader2">0</td></tr>
            <tr><td>Linh</td><td id="leader3">0</td></tr>
        </table>
        <br>
        <button onclick="updateLeaderboard()">Cáº­p Nháº­t Leaderboard</button>
    </div>
    
    <!-- Thá»i Tiáº¿t Há»c Táº­p -->
    <div id="weather" class="section">
        <h2>ğŸŒ¤ï¸ Thá»i Tiáº¿t Há»c Táº­p</h2>
        <p>Kiá»ƒm tra thá»i tiáº¿t Ä‘á»ƒ quyáº¿t Ä‘á»‹nh há»c ngoÃ i trá»i hay trong lá»›p (liÃªn mÃ´n vá»›i Khoa há»c). Nháº­p thÃ nh phá»‘ vÃ  nháº¥n "Kiá»ƒm Tra"!</p>
        <input type="text" id="city-input" placeholder="VÃ­ dá»¥: Hanoi" style="width: 200px;">
        <button onclick="getWeather()">Kiá»ƒm Tra Thá»i Tiáº¿t</button>
        <div id="weather-display">Thá»i tiáº¿t sáº½ xuáº¥t hiá»‡n á»Ÿ Ä‘Ã¢y.</div>
    </div>
    
    <script>
        // HÃ m hiá»ƒn thá»‹ section
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(sec => sec.style.display = 'none');
            document.getElementById(sectionId).style.display = 'block';
        }
        
        // VÃ²ng Quay Gá»i TÃªn
        function spinWheel() {
            const list = document.getElementById('student-list').value.split(',').map(s => s.trim()).filter(s => s);
            if (list.length === 0) {
                alert('Vui lÃ²ng nháº­p danh sÃ¡ch há»c sinh!');
                return;
            }
            const randomIndex = Math.floor(Math.random() * list.length);
            document.getElementById('spin-wheel').innerText = `Há»c sinh Ä‘Æ°á»£c chá»n: ${list[randomIndex]}`;
        }
        
        // Äáº¥u TrÆ°á»ng Tráº¯c Nghiá»‡m
        const questions = [
            "CÃ¢u há»i 1: 5 + 3 = ? (ÄÃ¡p Ã¡n: 8)",
            "CÃ¢u há»i 2: Thá»§ Ä‘Ã´ Viá»‡t Nam lÃ ? (ÄÃ¡p Ã¡n: HÃ  Ná»™i)",
            "CÃ¢u há»i 3: 10 - 4 = ? (ÄÃ¡p Ã¡n: 6)"
        ];
        let currentQuestion = 0;
        function nextQuestion() {
            document.getElementById('quiz-display').innerText = questions[currentQuestion];
            document.getElementById('sound-effect').play();
            currentQuestion = (currentQuestion + 1) % questions.length;
        }
        
        // Há»‡ Thá»‘ng Ghi Äiá»ƒm
        function updateScore(team, change) {
            const scoreElement = document.getElementById(`score${team}`);
            let currentScore = parseInt(scoreElement.innerText);
            currentScore += change;
            scoreElement.innerText = currentScore;
        }
        
        // TrÃ² ChÆ¡i Äá»‘ Vui (Gamified)
        const gameQuestions = [
            { q: "5 * 2 = ?", a: "10" },
            { q: "Thá»§ Ä‘Ã´ Má»¹ lÃ ?", a: "Washington" },
            { q: "10 / 2 = ?", a: "5" }
        ];
        let gameIndex = 0;
        let gameScore = 0;
        let timeLeft = 10;
        let timerInterval;
        function startGame() {
            gameIndex = 0;
            gameScore = 0;
            document.getElementById('game-display').innerText = gameQuestions[gameIndex].q;
            document.getElementById('game-score').innerText = `Äiá»ƒm cá»§a báº¡n: ${gameScore}`;
            timeLeft = 10;
            document.getElementById('timer').innerText = `Thá»i gian: ${timeLeft} giÃ¢y`;
            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').innerText = `Thá»i gian: ${timeLeft} giÃ¢y`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    alert('Háº¿t thá»i gian! ChÆ¡i láº¡i?');
                    startGame();
                }
            }, 1000);
        }
        function submitAnswer() {
            const answer = document.getElementById('answer-input').value.trim().toLowerCase();
            if (answer === gameQuestions[gameIndex].a.toLowerCase()) {
                const bonus = Math.floor(Math.random() * 5) + 1; // ThÆ°á»Ÿng ngáº«u nhiÃªn (xÃ¡c suáº¥t)
                gameScore += 10 + bonus; // Thuáº­t toÃ¡n nhÃ¢n/chia Ä‘iá»ƒm
                document.getElementById('game-score').innerText = `Äiá»ƒm cá»§a báº¡n: ${gameScore}`;
                launchConfetti(); // Hiá»‡u á»©ng confetti
                alert(`ÄÃºng! +${10 + bonus} Ä‘iá»ƒm`);
            } else {
                alert('Sai! Thá»­ láº¡i.');
            }
            gameIndex = (gameIndex + 1) % gameQuestions.length;
            document.getElementById('game-display').innerText = gameQuestions[gameIndex].q;
            document.getElementById('answer-input').value = '';
        }
        // Hiá»‡u á»©ng confetti (thÆ° viá»‡n Ä‘Æ¡n giáº£n)
        function launchConfetti() {
            const canvas = document.getElementById('confetti-canvas');
            canvas.style.display = 'block';
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            for (let i = 0; i < 100; i++) {
                ctx.fillStyle = `hsl(${Math.random() * 360}, 100%, 50%)`;
                ctx.fillRect(Math.random() * canvas.width, Math.random() * canvas.height, 5, 5);
            }
            setTimeout(() => canvas.style.display = 'none', 2000);
        }
        startGame(); // Khá»Ÿi Ä‘á»™ng trÃ² chÆ¡i khi load
        
        // Leaderboard
        function updateLeaderboard() {
            // Giáº£ láº­p cáº­p nháº­t tá»« Ä‘iá»ƒm trÃ² chÆ¡i
            document.getElementById('leader1').innerText = Math.max(parseInt(document.getElementById('leader1').innerText), gameScore);
            // ThÃªm logic Ä‘á»ƒ cáº­p nháº­t tá»« cÃ¡c tá»•
        }
        
        // Thá»i Tiáº¿t Há»c Táº­p (dÃ¹ng API miá»…n phÃ­)
        async function getWeather() {
            const city = document.getElementById('city-input').value;
            if (!city) {
                alert('Nháº­p tÃªn thÃ nh phá»‘!');
                return;
            }
            try {
                const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=YOUR_API_KEY&units=metric&lang=vi`);
                const data = await response.json();
                document.getElementById('weather-display').innerText = `Thá»i tiáº¿t á»Ÿ ${city}: ${data.weather[0].description}, Nhiá»‡t Ä‘á»™: ${data.main.temp}Â°C. Náº¿u náº¯ng Ä‘áº¹p, há»c ngoÃ i trá»i nhÃ©!`;
            } catch (error) {
                document.getElementById('weather-display').innerText = 'KhÃ´ng tÃ¬m tháº¥y thá»i tiáº¿t. Kiá»ƒm tra tÃªn thÃ nh phá»‘!';
            }
        }
        // LÆ°u Ã½: Thay YOUR_API_KEY báº±ng key tá»« openweathermap.org (miá»…n phÃ­)
    </script>
</body>
  </html>
